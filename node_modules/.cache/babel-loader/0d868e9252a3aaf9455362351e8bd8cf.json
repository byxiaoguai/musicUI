{"remainingRequest":"C:\\Users\\86166\\Desktop\\vipweb\\vip\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86166\\Desktop\\vipweb\\vip\\src\\config\\request.js","dependencies":[{"path":"C:\\Users\\86166\\Desktop\\vipweb\\vip\\src\\config\\request.js","mtime":1667639014637},{"path":"C:\\Users\\86166\\Desktop\\vipweb\\vip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662541782000},{"path":"C:\\Users\\86166\\Desktop\\vipweb\\vip\\node_modules\\babel-loader\\lib\\index.js","mtime":1662541860000}],"contextDependencies":[],"result":["import axios from 'axios';\nvar httpService = axios.create({\n  // baseURL: 'http://127.0.0.1:7878/api',\n  baseURL: 'https://music.dog886.com/api',\n  // baseURL: 'https://y.x6x3.com/api',\n  timeout: 5000\n}); // 拦截请求\n\nhttpService.interceptors.request.use(function (config) {\n  if (localStorage.getItem('token')) {\n    config.headers.token = localStorage.getItem('token');\n  }\n\n  return config;\n}, function (err) {\n  Promise.reject(err);\n}); // 拦截响应\n\nhttpService.interceptors.response.use(function (response) {\n  // console.log(response)\n  // console.log('请求成功')\n  return response;\n}, function (err) {\n  return Promise.reject(err);\n}); // get请求的封装\n\nexport function get(url) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    'Content-Type': 'application/json'\n  };\n  return new Promise(function (resolve, reject) {\n    httpService({\n      url: url,\n      method: 'get',\n      params: params,\n      headers: headers\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n} // post请求封装 \n\nexport function post(url) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    'Content-Type': 'application/json'\n  };\n  return new Promise(function (resolve, reject) {\n    httpService({\n      url: url,\n      method: 'post',\n      data: JSON.stringify(data),\n      headers: headers\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n}\nexport default {\n  get: get,\n  post: post\n};",{"version":3,"sources":["C:\\Users\\86166\\Desktop\\vipweb\\vip\\src\\config\\request.js"],"names":["axios","httpService","create","baseURL","timeout","interceptors","request","use","config","localStorage","getItem","headers","token","err","Promise","reject","response","get","url","params","resolve","method","then","res","catch","post","data","JSON","stringify"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,WAAW,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC7B;AACCC,EAAAA,OAAO,EAAE,8BAFmB;AAG5B;AACDC,EAAAA,OAAO,EAAE;AAJoB,CAAb,CAAlB,C,CAOA;;AACAH,WAAW,CAACI,YAAZ,CAAyBC,OAAzB,CAAiCC,GAAjC,CAAqC,UAAAC,MAAM,EAAI;AAC7C,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjCF,IAAAA,MAAM,CAACG,OAAP,CAAeC,KAAf,GAAuBH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAvB;AACD;;AACD,SAAOF,MAAP;AACD,CALD,EAKE,UAAAK,GAAG,EAAI;AACPC,EAAAA,OAAO,CAACC,MAAR,CAAeF,GAAf;AACD,CAPD,E,CASA;;AACAZ,WAAW,CAACI,YAAZ,CAAyBW,QAAzB,CAAkCT,GAAlC,CAAsC,UAAAS,QAAQ,EAAI;AAChD;AACA;AACA,SAAOA,QAAP;AACD,CAJD,EAIE,UAAAH,GAAG,EAAI;AACP,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAND,E,CAQA;;AACA,OAAO,SAASI,GAAT,CAAaC,GAAb,EAA4E;AAAA,MAA1DC,MAA0D,uEAAnD,EAAmD;AAAA,MAA/CR,OAA+C,uEAArC;AAAC,oBAAe;AAAhB,GAAqC;AACjF,SAAO,IAAIG,OAAJ,CAAY,UAACM,OAAD,EAASL,MAAT,EAAoB;AACrCd,IAAAA,WAAW,CAAC;AACViB,MAAAA,GAAG,EAAEA,GADK;AAEVG,MAAAA,MAAM,EAAE,KAFE;AAGVF,MAAAA,MAAM,EAAEA,MAHE;AAIVR,MAAAA,OAAO,EAAEA;AAJC,KAAD,CAAX,CAKGW,IALH,CAKQ,UAAAC,GAAG,EAAI;AACbH,MAAAA,OAAO,CAACG,GAAD,CAAP;AACD,KAPD,EAOGC,KAPH,CAOS,UAAAX,GAAG,EAAI;AACdE,MAAAA,MAAM,CAACF,GAAD,CAAN;AACD,KATD;AAUD,GAXM,CAAP;AAYD,C,CAED;;AACA,OAAO,SAASY,IAAT,CAAcP,GAAd,EAA6E;AAAA,MAA1DQ,IAA0D,uEAAnD,EAAmD;AAAA,MAA/Cf,OAA+C,uEAArC;AAAC,oBAAe;AAAhB,GAAqC;AAClF,SAAO,IAAIG,OAAJ,CAAY,UAACM,OAAD,EAASL,MAAT,EAAoB;AACrCd,IAAAA,WAAW,CAAC;AACViB,MAAAA,GAAG,EAAEA,GADK;AAEVG,MAAAA,MAAM,EAAC,MAFG;AAGVK,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeF,IAAf,CAHI;AAIVf,MAAAA,OAAO,EAAEA;AAJC,KAAD,CAAX,CAKGW,IALH,CAKQ,UAAAC,GAAG,EAAI;AACbH,MAAAA,OAAO,CAACG,GAAD,CAAP;AACD,KAPD,EAOGC,KAPH,CAOS,UAAAX,GAAG,EAAI;AACdE,MAAAA,MAAM,CAACF,GAAD,CAAN;AACD,KATD;AAUD,GAXM,CAAP;AAYD;AAED,eAAe;AACbI,EAAAA,GAAG,EAAHA,GADa;AAEbQ,EAAAA,IAAI,EAAJA;AAFa,CAAf","sourcesContent":["import axios from 'axios'\n\nlet httpService = axios.create({\n  // baseURL: 'http://127.0.0.1:7878/api',\r\n   baseURL: 'https://music.dog886.com/api',\r\n   // baseURL: 'https://y.x6x3.com/api',\n  timeout: 5000\n})\n\n// 拦截请求\nhttpService.interceptors.request.use(config => {\n  if (localStorage.getItem('token')) {\n    config.headers.token = localStorage.getItem('token')\n  }\n  return config;\n},err => {\n  Promise.reject(err);\n})\n\n// 拦截响应\nhttpService.interceptors.response.use(response => {\n  // console.log(response)\n  // console.log('请求成功')\n  return response;\n},err => {\n  return Promise.reject(err);\n})\n\n// get请求的封装\nexport function get(url, params={}, headers = {'Content-Type':'application/json'}) {\n  return new Promise((resolve,reject) => {\n    httpService({\n      url: url,\n      method: 'get',\n      params: params,\n      headers: headers,\n    }).then(res => {\n      resolve(res);\n    }).catch(err => {\n      reject(err);\n    })\n  })\n}\n\n// post请求封装 \nexport function post(url, data = {}, headers = {'Content-Type':'application/json'}) {\n  return new Promise((resolve,reject) => {\n    httpService({\n      url: url,\n      method:'post',\n      data: JSON.stringify(data),\n      headers: headers\n    }).then(res => {\n      resolve(res);\n    }).catch(err => {\n      reject(err);\n    })\n  })\n}\n\nexport default {\n  get,\n  post,\n}\n\n"]}]}